// all diacritics
var diacritics =
    {
        'a' : ['a','ร','รก','รข','รฃ','รค','รฅ','รฆ','ฤ','ฤ','ฤ','ว','ว','วก','วป','ศ','ศ','ศง','ษ','ษ','ษ','อฃ','ะฐ','ำ','ำ','แต','แต','แถ','แธ','แบ','แบก','แบฃ','แบฅ','แบง','แบฉ','แบซ','แบญ','แบฏ','แบฑ','แบณ','แบต','แบท','โ','โฑฅ','๏ฝ'],
        'A' : ['A','ร','ร','ร','ร','ร','ร','ฤ','ฤ','ฤ','ว','ว','ว','วบ','ศ','ศ','ศฆ','ศบ','ะ','ำ','ำ','แด','แดฌ','แธ','แบ','แบข','แบค','แบฆ','แบจ','แบช','แบฌ','แบฎ','แบฐ','แบฒ','แบด','แบถ','๏ผก'],

        'b' : ['b','ฦ','ฦ','ษ','แฏ','แต','แตฌ','แถ','แธ','แธ','แธ','๏ฝ'],
        'B' : ['B','ฦ','ฦ','ษ','ส','แ','แด','แดฎ','แดฏ','แธ','แธ','แธ','๏ผข'],

        'c' : ['c','รง','ฤ','ฤ','ฤ','ฤ','ฦ','ศผ','ษ','อจ','แด','แถ','แธ','โ','๏ฝ'],
        'C' : ['C','ร','ฤ','ฤ','ฤ','ฤ','ฦ','ศป','ส','แธ','๏ผฃ'],

        'd' : ['d','ฤ','ฤ','ฦ','ฦ','ศก','ษ','ษ','อฉ','แต','แตญ','แถ','แถ','แธ','แธ','แธ','แธ','แธ','๏ฝ'],
        'D' : ['D','ฤ','ฤ','ฦ','ฦ','แดฐ','แธ','แธ','แธ','แธ','แธ','๏ผค'],

        'e' : ['e','รจ','รฉ','รช','รซ','ฤ','ฤ','ฤ','ฤ','ฤ','ว','ศ','ศ','ศฉ','ษ','ษ','อค','แต','แถ','แธ','แธ','แธ','แธ','แธ','แบน','แบป','แบฝ','แบฟ','แป','แป','แป','แป','โ','๏ฝ'],
        'E' : ['E','ร','ร','ร','ร','ฤ','ฤ','ฤ','ฤ','ฤ','ล','ฦ','ฦ','ศ','ศ','ศจ','ษ','ษ','ษ','ษถ','ะ','ะญ','ั','ั','ำฌ','ำญ','แด','แด','แดฑ','แดฒ','แต','แต','แถ','แถ','แถ','แธ','แธ','แธ','แธ','แธ','แบธ','แบบ','แบผ','แบพ','แป','แป','แป','แป','๏ผฅ','๐','๐ฉ'],

        'f' : ['f','ฦ','แตฎ','แถ','แถ','แธ','๏ฝ'],
        'F' : ['F','ฦ','แธ','โ','๏ผฆ'],

        'g' : ['g','ฤ','ฤ','ฤก','ฤฃ','วฅ','วง','วต','ษ','ษก','แต','แตท','แตน','แถ','แถข','แธก','๏ฝ'],
        'G' : ['G','ฤ','ฤ','ฤ','ฤข','ฦ','วค','วฆ','วด','ษข','ส','แดณ','แธ','๏ผง'],

        'h' : ['h','ฤฅ','ฤง','ฦ','ศ','ษฅ','ษฆ','สฎ','สฏ','สฐ','สฑ','อช','าบ','าป','แ','แถฃ','แธฃ','แธฅ','แธง','แธฉ','แธซ','โฑจ','๏ฝ'],
        'H' : ['H','ฤค','ฤฆ','ศ','ส','แผ','แบ','แป','แดด','แธข','แธค','แธฆ','แธจ','แธช','โฑง','๏ผจ'],

        'i' : ['i','รฌ','รญ','รฎ','รฏ','ฤฉ','ฤซ','ฤญ','ฤฏ','ว','ศ','ศ','ษจ','อฅ','แด','แต','แตข','แถ','แถค','แธญ','แธฏ','แป','แป','๏ฝ'],
        'I' : ['I','ร','ร','ร','ร','ฤจ','ฤช','ฤฌ','ฤฎ','ฤฐ','ว','ศ','ศ','ษช','ะ','แดต','แตป','แถฆ','แถง','แธฌ','แธฎ','แป','แป','๏ผฉ'],

        'j' : ['j','ฤต','วฐ','ษ','ส','สฒ','แถก','แถจ','๏ฝ'],
        'J' : ['J','ฤด','แด','แดถ','๏ผช'],

        'k' : ['k','ฤท','ฦ','วฉ','ส','แต','แถ','แธฑ','แธณ','แธต','โฑช','๏ฝ'],
        'K' : ['K','ฤถ','ฦ','วจ','แดท','แธฐ','แธฒ','แธด','โฑฉ','๏ผซ'],

        'l' : ['l','ฤบ','ฤผ','ฤพ','ล','ล','ฦ','ศด','ษซ','ษฌ','ษญ','หก','แถ','แถฉ','แถช','แธท','แธน','แธป','แธฝ','โ','โฑก'],
        'L' : ['L','ฤน','ฤป','ฤฝ','ฤฟ','ล','ศฝ','ส','แด','แดธ','แถซ','แธถ','แธธ','แธบ','แธผ','โฑ','โฑข'],

        'm' : ['m','ษฏ','ษฐ','ษฑ','อซ','แด','แต','แต','แตฏ','แถ','แถฌ','แถญ','แธฟ','แน','แน','ใก','ใฅ','๏ฝ'],
        'M' : ['M','ฦ','แด','แดน','แธพ','แน','แน','๏ผญ'],

        'n' : ['n','รฑ','ล','ล','ล','ล','ฦ','วน','ศต','ษฒ','ษณ','แตฐ','แถ','แถฎ','แถฏ','แน','แน','แน','แน','โฟ','๏ฝ'],
        'N' : ['N','ร','ล','ล','ล','ฦ','วธ','ศ','ษด','แด','แดบ','แดป','แถฐ','แน','แน','แน','แน','๏ผฎ'],

        'o' : ['o','รฒ','รณ','รด','รต','รถ','รธ','ล','ล','ล','ฦก','ว','วซ','วญ','วฟ','ศ','ศ','ศซ','ศญ','ศฏ','ศฑ','ษต','อฆ','ะพ','ำง','ำฉ','แด','แด','แด','แดผ','แต','แถฑ','แน','แน','แน','แน','แป','แป','แป','แป','แป','แป','แป','แป','แป','แป','แปก','แปฃ','โ','๏ฝ','๐ฌ'],
        'O' : ['O','ร','ร','ร','ร','ร','ร','ล','ล','ล','ฦ','ฦ','ว','วช','วฌ','วพ','ศ','ศ','ศช','ศฌ','ศฎ','ศฐ','ะ','ำฆ','ำจ','แน','แน','แน','แน','แป','แป','แป','แป','แป','แป','แป','แป','แป','แป','แป','แปข','๏ผฏ','๐'],

        'p' : ['p','แต','แตฑ','แตฝ','แถ','แน','แน','๏ฝ'],
        'P' : ['P','ฦค','แด','แดพ','แน','แน','โฑฃ','๏ผฐ'],

        'q' : ['q','ษ','ส','แฉ','๏ฝ'],
        'Q' : ['Q','ษ','๏ผฑ'],

        'r' : ['r','ล','ล','ล','ศ','ศ','ษ','ษน','ษป','สณ','สด','สต','อฌ','แตฃ','แตฒ','แถ','แน','แน','แน','แน'],
        'R' : ['R','ล','ล','ล','ฦฆ','ศ','ศ','ษ','ส','ส','สถ','แฑ','แด','แด','แดฟ','แน','แน','แน','แน','โฑค'],

        's' : ['s','ล','ล','ล','ลก','ศ','ส','แ','แถ','แนก','แนฃ','แนฅ','แนง','แนฉ','๏ฝ'],
        'S' : ['S','ล','ล','ล','ล','ศ','ศฟ','หข','แตด','แน','แนข','แนค','แนฆ','แนจ','๏ผณ'],

        't' : ['t','ลฃ','ลฅ','ลง','ฦซ','ฦญ','ศ','ส','อญ','แต','แต','แตต','แถต','แนซ','แนญ','แนฏ','แนฑ','แบ','๏ฝ'],
        'T' : ['T','ลข','ลค','ฦฌ','ฦฎ','ศ','ศพ','แด','แต','แนช','แนฌ','แนฎ','แนฐ','๏ผด'],

        'u' : ['u','รน','รบ','รป','รผ','ลฉ','ลซ','ลญ','ลฏ','ลฑ','ลณ','ฦฐ','ว','ว','ว','ว','ว','ศ','ศ','อง','฿','แต','แตค','แนณ','แนต','แนท','แนน','แนป','แปฅ','แปง','แปฉ','แปซ','แปญ','แปฏ','แปฑ','๏ฝ'],
        'U' : ['U','ร','ร','ร','ร','ลจ','ลช','ลฌ','ลฎ','ลฐ','ลฒ','ฦฏ','ว','ว','ว','ว','ว','ศ','ศ','ษ','แด','แต','แตพ','แนฒ','แนด','แนถ','แนธ','แนบ','แปค','แปฆ','แปจ','แปช','แปฌ','แปฎ','แปฐ','๏ผต'],

        'v' : ['v','ส','อฎ','แต','แตฅ','แถน','แนฝ','แนฟ','โฑฑ','๏ฝ','โฑด'],
        'V' : ['V','ฦฒ','ษ','ส','แด','แถ','แนผ','แนพ','๏ผถ'],

        'w' : ['w','ลต','สท','แต','แบ','แบ','แบ','แบ','แบ','แบ','โฑณ','๏ฝ'],
        'W' : ['W','ลด','ส','แดก','แบ','แบ','แบ','แบ','แบ','โฑฒ','๏ผท'],

        'x' : ['x','ฬฝ','อ','แถ','อฏ','แบ','แบ','โ','๏ฝ'],
        'X' : ['X','หฃ','อฏ','แบ','แบ','โ','โ','โ','โ','โ','๏ผธ'],

        'y' : ['y','รฝ','รฟ','ลท','ศณ','ษ','สธ','แบ','แปณ','แปต','แปท','แปน','๏ฝ'],
        'Y' : ['Y','ร','ลถ','ลธ','ฦณ','ฦด','ศฒ','ษ','ส','ส','แบ','แปฒ','แปด','แปถ','แปธ','๏ผน'],

        'z' : ['z','ลบ','ลผ','ลพ','ฦถ','ศฅ','ษ','ส','ส','แ','แ','แถป','แถผ','แถฝ','แบ','แบ','แบ','โฑฌ','๏ฝ'],
        'Z' : ['Z','ลน','ลป','ลฝ','ฦต','ศค','แดข','แตถ','แบ','แบ','แบ','โฑซ','๏ผบ']
    };

/*
 * Main function of the module which removes all diacritics from the received text
 */
module.exports = function (text) {
    var result = [];

    // iterate over all the characters of the received text
    for(var i=0; i<text.length; i++) {
        var searchChar = text.charAt(i);
        var foundChar = false;

        // iterate over all the diacritics
        for(var key in diacritics) {
            var indexChar = diacritics[key].indexOf(searchChar);

            // check if the current character is a diacritic
            if (indexChar !== -1) {
                // as the character is a diacritic, adds into the result array, the key of the found diacritic
                result.push(key);
                foundChar = true;
                break;
            }
        }

        // check if the character was not found
        if (!foundChar) {
            // as the character was not found, returns it
            result.push(searchChar);
        }
    }

    return result.join("");
};